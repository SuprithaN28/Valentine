<!DOCTYPE html>
<html>
    <head>
        <title>‚ù§Ô∏è Valentine ‚ù§Ô∏è</title>
        <style>
            body{
                margin: 0;
                padding: 0;
                background: black;
                color: white;
                overflow: hidden;
                font-family: Arial, Helvetica, sans-serif;

                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                height: 100vh;
                text-align: center;
            }
            video{
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                object-fit: cover;
                z-index: -1;
            }
            h1{
                margin-bottom: 20px;
                font-size: 42px;
                color: #ffffff;
                text-shadow: 0 0 10px #ff1493,
                             0 0 20px #ff1493,
                             0 0 30px #ff69b4;
                margin-bottom: 20px;
            }
           .buttons{
            margin-top: 25px;
           }
            button{
                padding: 12px 30px;
                font-size: 22px;
                border: none;
                margin: 10px;
                border-radius: 8px;
                cursor: pointer;
            }
            #yes{
                background-color: #ff4da6;
                color: white;
                min-width: 60px;
                min-height: 60px;
            }
            #no{
                background-color: #333;
                color: white;
                position: fixed;
                transition: left 0.3s ease,top 0.3s ease;
                min-width: 60px;
                min-height: 60px;
                touch-action: manipulation;
            }
            img{
                border-radius: 15px;
            }
            #weddingPhotos{
                display: none;
                text-align: center;
            }
            #weddingPhotos img{
                width: 260px;
                height: 260px;
                object-fit: cover;
                object-position: center top;
                border-radius: 15px;
                margin: 10px;
            }
            @media(max-width:600px){
                #weddingPhotos img{
                width: 170px;
                height: 170px;
                }
            }
            #mainGif{
                width: 250px;
                margin-top: 10px;
            }

            @keyframes pulseGlow {
                0%{
                    text-shadow: 
                    0 0 10px #ff1493,
                    0 0 20px #ff1493,
                    0 0 30px #ff69b4;
                }
                50%{
                    text-shadow: 
                    0 0 20px #ff69b4,
                    0 0 40px #ff69b4,
                    0 0 60px #ff69b4;
                }
                100%{
                    text-shadow: 
                    0 0 10px #ff1493,
                    0 0 20px #ff1493,
                    0 0 30px #ff69b4;
                }

                
            }
        </style>
    </head>
    <body>

        <video autoplay muted loop playsinline webkit-playsinline id="bgVideo" src="hearts.mp4" ></video>
        <div id="weddingPhotos">
            <img id="photo1">
            <img id="photo2">
        </div>
        <div id="question">
        <h1 >Two beautiful valentine's completed.üß°üíú</h1>
        <h1 >Bubuuuu will u be my valentine again..??üòòü©µ</h1>
        <h1 >Select YES For Lifetime Subscription...üòåüåπ</h1>
        </div>
        <div class="button-row" id="buttonRow">
        <button id="yes">YES üòçüíû</button>
        <button id="no">NO üò≠üíî</button>
</div>
        <img id="mainGif" src="romantic.webp">

        
        
        <script>

            let noAttempt=0;
            const maxAttempt=10;
         

            const noGifs=["no1.gif","no2.gif","no3.gif","no4.gif","no5.gif","no6.webp","no7.webp","no8.webp","no9.webp","no10.webp"];
            const noTexts=["Wrong button SIRüòê","Really?‚öîÔ∏è","Why are u like this?üò§","Think againüßê","Be Serious NowüôÑ","Bubuuuu Say Yesü•∫","Not Cryingüò£","Ok I Give Upüò≠","Last Chance!!üî´"]
            const yesBtn=document.getElementById("yes");
            const noBtn=document.getElementById("no");
            const gif=document.getElementById("mainGif");
            const bgVideo=document.getElementById("bgVideo");
            const question=document.getElementById("question");
            const buttonRow=document.getElementById("buttonRow");
            const weddingPhotos= document.getElementById("weddingPhotos");
            const photo1=document.getElementById("photo1");
            const photo2=document.getElementById("photo2");
        

            noBtn.addEventListener("mouseover",function(){
                noAttempt++;
                let rect=noBtn.getBoundingClientRect();
                 let oldX=rect.left;
                 let oldY=rect.top;
                    const padding=20;
                 let newX=oldX;
                 let newY=oldY;

                 while(newX===oldX && newY===oldY){
                    const runDistance=Math.random()*600+200;
                    const direction=Math.floor(Math.random()*4);
                 switch(direction){
                    case 0: newY-=runDistance;
                        break;
                    case 1: newY+=runDistance;
                        break;
                    case 2: newX-=runDistance;
                        break;
                    case 3: newX+=runDistance;
                        break;
                 }
                //  newX=Math.max(10,Math.min(window.innerWidth-noBtn.offsetWidth-10,newX));
                //  newY=Math.max(10,Math.min(window.innerHeight-noBtn.offsetHeight-10,newY));
                 // newX=Math.max(padding,Math.min(window.innerWidth-noBtn.offsetWidth-padding,newX));
                 // newY=Math.max(padding,Math.min(window.innerHeight-noBtn.offsetHeight-padding,newY));
                 newX=Math.max(padding,Math.min(document.documentElement.clientWidth-noBtn.offsetWidth-padding,newX));
                 newY=Math.max(padding,Math.min(document.documentElement.clientHeight-noBtn.offsetHeight-padding,newY));
                }
                 noBtn.style.left=newX+"px";
                    noBtn.style.top=newY+"px";

                if(noAttempt<=maxAttempt){
                    gif.src=noGifs[noAttempt-1];
                }
                if(noAttempt<=noTexts.length){
                    noBtn.innerText=noTexts[noAttempt-1];
                }
                if(noAttempt===maxAttempt){
                    noBtn.style.position="static";
                    noBtn.innerText="Fine,u Winüò§."
                    noBtn.onclick=()=>{
                         const marriedSong=document.getElementById("marriedSong");
                    marriedSong.currentTime=0;
                marriedSong.volume=1;
                 marriedSong.play().catch(()=>{}); 
                 let fadeIn = setInterval(()=>{
                    if(marriedSong.volume<1.5){
                        marriedSong.volume+=0.05;
                    }else{
                        clearInterval(fadeIn);
                    }
                },200); 
                        showMarriedScreen();
                    }
                  
                        return;
                    }
                      
                       

            });

            yesBtn.addEventListener("click",function(){
                bgVideo.src="firework.mp4";
                bgVideo.loop=true;
                bgVideo.play();

                confetti({
                    particleCount:150,
                    spread: 70,
                    origin:{y:0.6}
                });
                photo1.src="yay.jpg";
                photo1.style.display="inline-block";

                photo2.style.display="none";
                weddingPhotos.style.display="block";

                const music =document.getElementById("bgMusic");
                music.volume=0;
                music.play();
                let fadeIn = setInterval(()=>{
                    if(music.volume<0.5){
                        music.volume+=0.05;
                    }else{
                        clearInterval(fadeIn);
                    }
                },200);

               // question.innerHTML="YAAYYYY ‚ù§Ô∏è Officially Mine Foreverü•∞‚ôæÔ∏è";
                typeText(question,"YAAYYYY ‚ù§Ô∏è Always and Forever Mine ü•∞‚ôæÔ∏è")
                question.style.color="#ffffff";
                question.style.fontSize="42px";
                question.style.animation="pulseGlow 1.5s infinite ease-in-out";
                buttonRow.style.display="none";

                gif.src="yes.webp";
            });

            function typeText(element,text){
                element.innerHTML="";
                let i=0;
                function type(){
                    if(i<text.length){
                        if(text.substring(i,i+4)==="<br>"){
                            element.innerHTML+="<br>";
                            i+=4;
                        }else{
                            element.innerHTML+=text[i];
                            i++;
                        }
                        setTimeout(type,40);
                    }
                }
                type();
            }

            function showMarriedScreen(){
                typeText(question,"Cant say no now.üòú <br> WE ARE ALREADY MARRIED...!!üíçüòÜ <br>No Retuns or Exchanges!!üòà");
                question.style.color="#FF69B4";
                question.style.fontSize="42px";
                question.style.animation="pulseGlow 1.5s infinite ease-in-out";
                buttonRow.style.display="none";
                bgVideo.src="finalscreen.mp4";
                bgVideo.loop=true;
                bgVideo.play();
                photo1.src="m1.jpg";
                photo2.src="m2.jpg";
                photo1.style.display="inline-block";
                photo2.style.display="inline-block";
                weddingPhotos.style.display="block";
                gif.src="married1.webp";
                
            }

            window.onload=()=>{
                const noBtn=document.getElementById("noBtn");
                noBtn.style.position="fixed";
                noBtn.style.left="50%";
                noBtn.style.top="70%";
            };
        </script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

        <audio id="bgMusic" preload="auto">
            <source src="love.mp3" type="audio/mpeg">
        </audio>
        <audio id="marriedSong" loop>
            <source src="sadfunny.mp3" type="audio/mpeg">
        </audio>
    </body>
</html>
